(this.webpackJsonpcfcommerce=this.webpackJsonpcfcommerce||[]).push([[0],{24:function(t,e,a){t.exports=a(38)},29:function(t,e,a){},38:function(t,e,a){"use strict";a.r(e);var r=a(0),n=a.n(r),c=a(21),o=a.n(c),i=(a(29),a(2)),s=a(3),l=a(5),u=a(4),p=a(13),m=a(12),d=a(9),h="products",b="categories",y="data_load",f="cart_add",v="cart_update",E="cart_delete",g="cart_clear",O=a(23),j=Object(p.b)(function(){for(var t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return function(t,a){for(var r=0;r<e.length;r++){var n=e[r](t,a);if(n!==t)return n}return t}}((function(t,e){switch(e.type){case y:return Object(d.a)(Object(d.a)({},t),{},Object(m.a)({},e.payload.dataType,e.payload.data));default:return t||{}}}),(function(t,e){var a=Object(d.a)({cart:[],cartItems:0,cartPrice:0},t);switch(e.type){case f:var r=e.payload.product,n=e.payload.quantity,c=a.cart.find((function(t){return t.product.id===r.id}));return c?c.quantity+=n:a.cart=[].concat(Object(O.a)(a.cart),[e.payload]),a.cartItems+=n,a.cartPrice+=r.price*n,a;case v:return a.cart=a.cart.map((function(t){if(t.product.id===e.payload.product.id){var r=e.payload.quantity-t.quantity;return a.cartItems+=r,a.cartPrice+=t.product.price*r,e.payload}return t})),a;case E:var o=a.cart.find((function(t){return t.product.id===e.payload.id}));return a.cartItems-=o.quantity,a.cartPrice-=o.quantity*o.product.price,a.cart=a.cart.filter((function(t){return t!==o})),a;case g:return Object(d.a)(Object(d.a)({},t),{},{cart:[],cartItems:0,cartPrice:0});default:return t||{}}}))),C=a(16),k=a(42),N=a(44),w=a(43),x=a(41),P={categories:["Geek","Books","Pyrex","Disney"],products:[{id:1,name:"Optimus Prime",category:"Geek",description:"For Cyberton",price:20},{id:2,name:"Megatron",category:"Geek",description:"Destroy Optimus",price:20},{id:3,name:"It",category:"Books",description:"Stephen King Book",price:5},{id:4,name:"Autumn Harvest",category:"Pyrex",description:"Vintage Pyrex",price:6},{id:5,name:"Friendship",category:"Pyrex",description:"One of a kind",price:7}]},F=a(40),A=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t=this;return n.a.createElement(w.a,{path:this.props.to,exact:this.props.exact,children:function(e){var a=t.props.className||"m-2 btn btn-block",r=t.props.activeClass||"btn-primary",c=t.props.inActiveClass||"btn-secondary",o="".concat(a," ").concat(e.match?r:c);return n.a.createElement(F.a,{to:t.props.to,className:o},t.props.children)}})}}]),a}(r.Component),I=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(A,{to:this.props.baseUrl,exact:!0},"All"),this.props.categories&&this.props.categories.map((function(e){return n.a.createElement(A,{key:e,to:"".concat(t.props.baseUrl,"/").concat(e.toLowerCase())},e)})))}}]),a}(r.Component),q=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t=this;return null==this.props.products||0===this.props.products.length?n.a.createElement("h5",{className:"p-2"},"No Products"):this.props.products.map((function(e){return n.a.createElement("div",{className:"card m-1 p-1 bg-light",key:e.id},n.a.createElement("h4",null,e.name,n.a.createElement("span",{className:"badge badge-pill badge-primary float-right"},"$",e.price.toFixed(2))),n.a.createElement("div",{className:"card-text bg-white p-1"},e.description,n.a.createElement("button",{className:"btn btn-success btn-sm float-right",onClick:function(){return t.props.addToCart(e)}},"Add To Cart")))}))}}]),a}(r.Component),T=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).getSummary=function(){return t.props.cartItems>0?n.a.createElement("span",null,t.props.cartItems," item(s), $",t.props.cartPrice.toFixed(2)):n.a.createElement("span",null,"Your cart: (empty) ")},t.getLinkClasses=function(){return"btn btn-sm bg-dark text-white\n            ".concat(0===t.props.cartItems?"disabled":"")},t}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"float-right"},n.a.createElement("small",null,this.getSummary(),n.a.createElement(F.a,{className:this.getLinkClasses(),to:"/shop/cart"},n.a.createElement("i",{className:"fa fa-shopping-cart"}))))}}]),a}(r.Component),S=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).handleAddToCart=function(){var e;(e=t.props).addToCart.apply(e,arguments),t.props.history.push("/shop/cart")},t}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"container-fluid"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col bg-dark text-white"},n.a.createElement("div",{className:"navbar-brand"},"CFCommerce"),n.a.createElement(T,this.props))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-3 p-2"},n.a.createElement(I,{baseUrl:"/shop/products",categories:this.props.categories})),n.a.createElement("div",{className:"col-9 p-2"},n.a.createElement(q,{products:this.props.products,addToCart:this.handleAddToCart}))))}}]),a}(r.Component),L=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).handleChange=function(e,a){t.props.updateQuantity(e,a.target.value)},t}return Object(s.a)(a,[{key:"render",value:function(){var t=this;return this.props.cart&&0!==this.props.cart.length?n.a.createElement(n.a.Fragment,null,this.props.cart.map((function(e){return n.a.createElement("tr",{key:e.product.id},n.a.createElement("td",null,n.a.createElement("input",{type:"number",value:e.quantity,onChange:function(a){return t.handleChange(e.product,a)}})),n.a.createElement("td",null,e.product.name),n.a.createElement("td",null,"$",e.product.price.toFixed(2)),n.a.createElement("td",null,"$",(e.quantity*e.product.price).toFixed(2)),n.a.createElement("td",null,n.a.createElement("button",{className:"btn btn-sm btn-danger",onClick:function(){return t.props.removeFromCart(e.product)}},"Remove")))})),n.a.createElement("tr",null,n.a.createElement("th",{colSpan:"3",className:"text-right"},"Total:"),n.a.createElement("th",{colSpan:"2"},"$",this.props.cartPrice.toFixed(2)))):n.a.createElement("tr",null,n.a.createElement("td",{colSpan:"5"},"Your cart is empty"))}}]),a}(r.Component),D=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(i.a)(this,a);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).getLinkClasses=function(){return"btn btn-secondary m-1\n        ".concat(0===t.props.cartItems?"disabled":"")},t}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"m-3"},n.a.createElement("h2",{className:"text-center"},"Your Cart"),n.a.createElement("table",{className:"table table-bordered table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Quantity"),n.a.createElement("th",null,"Product"),n.a.createElement("th",{className:"text-right"},"Price"),n.a.createElement("th",{className:"text-right"},"Subtotal"),n.a.createElement("th",null))),n.a.createElement("tbody",null,n.a.createElement(L,{cart:this.props.cart,cartPrice:this.props.cartPrice,updateQuantity:this.props.updateCartQuantity,removeFromCart:this.props.removeFromCart}))),n.a.createElement("div",{className:"text-center"},n.a.createElement(F.a,{className:"btn btn-primary m-1",to:"/shop"},"Continue Shopping"),n.a.createElement(F.a,{className:this.getLinkClasses(),to:"/shop/checkout"},"Checkout")))}}]),a}(r.Component),$={loadData:function(t){return{type:y,payload:{dataType:t,data:P[t]}}},addToCart:function(t,e){return{type:f,payload:{product:t,quantity:e||1}}},updateCartQuantity:function(t,e){return{type:v,payload:{product:t,quantity:e}}},removeFromCart:function(t){return{type:E,payload:t}},clearCart:function(){return{type:g}}},B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;return e&&"All"!==e?t.filter((function(t){return t.category.toLowerCase()===e.toLowerCase()})):t},Q=Object(C.b)((function(t){return Object(d.a)({},t)}),$)(function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var t=this;return n.a.createElement(N.a,null,n.a.createElement(w.a,{path:"/shop/products/:category?",render:function(e){return n.a.createElement(S,Object.assign({},t.props,e,{products:B(t.props.products,e.match.params.category)}))}}),n.a.createElement(w.a,{path:"/shop/cart",render:function(e){return n.a.createElement(D,Object.assign({},t.props,e))}}),n.a.createElement(x.a,{to:"/shop/products"}))}},{key:"componentDidMount",value:function(){this.props.loadData(b),this.props.loadData(h)}}]),a}(r.Component)),_=function(t){Object(l.a)(a,t);var e=Object(u.a)(a);function a(){return Object(i.a)(this,a),e.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return n.a.createElement(C.a,{store:j},n.a.createElement(k.a,null,n.a.createElement(N.a,null,n.a.createElement(w.a,{path:"/shop",component:Q}),n.a.createElement(x.a,{to:"/shop"}))))}}]),a}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(36),a(37);o.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.80cd90bb.chunk.js.map